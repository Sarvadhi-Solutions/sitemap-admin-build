{"version":3,"sources":["pages/dashboard/GeneralApp.js"],"names":["StyledPaper","styled","Paper","_templateObject","_taggedTemplateLiteral","Title","Typography","_templateObject2","Content","_templateObject3","NameContent","_templateObject4","StyledButton","Button","_templateObject5","CardComponent","_ref","id","token","title","content","buttonText","name","navigate","useNavigate","dispatch","useDispatch","handleClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getDomainList","getCollectionList","PATH_DASHBOARD","general","collection","t0","console","error","stop","apply","arguments","_jsx","_Fragment","children","_jsxs","elevation","variant","Stack","direction","xs","sm","sx","display","flexDirection","justifyContent","spacing","color","onClick","alignContent","alignItems","MUIAvatar","width","height","marginRight","GeneralApp","_userDetails$data","useEffect","_callee2","_context2","getwfUserDetails","userDetails","useSelector","state","_state$wfUser","_state$wfUser$userDet","wfUser","data","_callee3","queryParams","code","_context3","URLSearchParams","window","location","search","has","undefined","get","getwfUser","log","themeStretch","useSettings","enqueueSnackbar","useSnackbar","category","message","Page","Container","maxWidth","style","marginBottom","authorizationUrl","concat","process","href","size","m","flexShrink","bgcolor","borderColor","Grid","container","map","index","_data$userSites","userSites","userSite","siteIndex","firstname","item","md","wf_access_token","wf_id","shortName"],"mappings":"+XA8BMA,EAAcC,YAAOC,IAAPD,CAAaE,MAAAC,YAAA,mLAU3BC,EAAQJ,YAAOK,IAAPL,CAAkBM,MAAAH,YAAA,wDAK1BI,EAAUP,YAAOK,IAAPL,CAAkBQ,MAAAL,YAAA,kDAI5BM,EAAcT,YAAOK,IAAPL,CAAkBU,MAAAP,YAAA,mDAKhCQ,EAAeX,YAAOY,IAAPZ,CAAca,MAAAV,YAAA,+OAU7BW,EAAgB,SAAHC,GAAyD,IAAnDC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAKH,EAALG,MAAOC,EAAOJ,EAAPI,QAASC,EAAUL,EAAVK,WAAYC,EAAIN,EAAJM,KACxDC,EAAWC,cACXC,EAAWC,cACXC,EAAW,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,OAAAF,cAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEVX,EAASY,YAAcpB,EAAIC,IAAQ,KAAD,SAAAgB,EAAAE,KAAA,EAClCX,EAASa,YAAkBrB,EAAIC,IAAQ,KAAD,EAE5CK,EAASgB,IAAeC,QAAQC,YAAYP,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAE5CS,QAAQC,MAAM,aAAYV,EAAAQ,IAAS,yBAAAR,EAAAW,OAAA,GAAAb,EAAA,kBAEtC,kBATgB,OAAAJ,EAAAkB,MAAA,KAAAC,UAAA,KAYjB,OACEC,cAAAC,WAAA,CAAAC,SACEC,eAACnD,EAAW,CAACoD,UAAW,EAAEF,SAAA,CACxBF,cAAC3C,EAAK,CAACgD,QAAQ,KAAIH,SAAE/B,IACrB6B,cAACxC,EAAO,CAAC6C,QAAQ,QAAOH,SAAE9B,IAC1B+B,eAACG,IAAK,CACJC,UAAW,CAAEC,GAAI,SAAUC,GAAI,OAC/BC,GAAI,CACFC,QAAS,OACTC,cAAe,MACfC,eAAgB,iBAElBC,QAAS,EAAEZ,SAAA,CAEXF,cAACpC,EAAY,CACXyC,QAAQ,YACRU,MAAM,UACNC,QAASrC,EAAYuB,SAEpB7B,IAEH8B,eAACzC,EAAW,CACV2C,QAAQ,QACRK,GAAI,CACFC,QAAS,OACTC,cAAe,MACfK,aAAc,SACdC,WAAY,UACZhB,SAAA,CAEFF,cAACmB,IAAS,CACRT,GAAI,CAAEU,MAAO,GAAIC,OAAQ,GAAIC,YAAa,SAE3ChD,YAMb,EACe,SAASiD,IAAc,IAADC,EAC7B/C,EAAWC,cACjB+C,oBAAS5C,YAAAC,cAAAC,MAAC,SAAA2C,IAAA,OAAA5C,cAAAG,MAAA,SAAA0C,GAAA,cAAAA,EAAAxC,KAAAwC,EAAAvC,MAAA,cAAAuC,EAAAvC,KAAA,EACFX,EAASmD,eAAoB,KAAD,mBAAAD,EAAA9B,OAAA,GAAA6B,EAAA,KACjC,IACH,IAAMG,EAAcC,aAAY,SAACC,GAAK,IAAAC,EAAAC,EAAA,OAAU,OAALF,QAAK,IAALA,GAAa,QAARC,EAALD,EAAOG,cAAM,IAAAF,GAAa,QAAbC,EAAbD,EAAeH,mBAAW,IAAAI,OAArB,EAALA,EAA4BE,IAAI,IAE3EV,oBAAS5C,YAAAC,cAAAC,MAAC,SAAAqD,IAAA,IAAAC,EAAAC,EAAA,OAAAxD,cAAAG,MAAA,SAAAsD,GAAA,cAAAA,EAAApD,KAAAoD,EAAAnD,MAAA,OACwD,KAA1DiD,EAAc,IAAIG,gBAAgBC,OAAOC,SAASC,SACxCC,IAAI,QAAQ,CAADL,EAAAnD,KAAA,QACY,QACxByD,KADPP,EAAOD,EAAYS,IAAI,SACP,CAAAP,EAAAnD,KAAA,eAAAmD,EAAAnD,KAAA,EACdX,EAASsE,YAAUT,IAAO,KAAD,EAEjC3C,QAAQqD,IAAI,iBAAkBV,GAAMC,EAAAnD,KAAA,gBAEpCO,QAAQC,MAAM,uCAAuC,yBAAA2C,EAAA1C,OAAA,GAAAuC,EAAA,KAEtD,CAAC3D,IAEJ,IAAQwE,EAAiBC,cAAjBD,aAMAE,EAAoBC,cAApBD,gBAEFvD,EAAQkC,aAAY,SAACC,GAAK,OAAKA,EAAMsB,SAASzD,KAAK,IAMzD,OALA6B,qBAAU,WACJ7B,GACFuD,EAAgBvD,EAAM0D,QAAS,CAAEjD,QAAS,SAE9C,GAAG,CAACT,IAEFI,cAACuD,IAAI,CAACpF,MAAM,eAAc+B,SACxBC,eAACqD,IAAS,CAACC,UAAUR,GAAuB,KAAK/C,SAAA,CAC/CF,cAAA,OACE0D,MAAO,CACL/C,QAAS,OACTE,eAAgB,WAChB8C,aAAc,QACdzD,SAEFF,cAACnC,IAAM,CAELmD,QAzBY,WACpB,IAAM4C,EAAgB,oEAAAC,OAAuEC,oEAC7FrB,OAAOC,SAASqB,KAAOH,CACzB,EAuBU7C,MAAM,UACNV,QAAQ,WACR2D,KAAK,QACLtD,GAAI,CACFuD,EAAG,GACHC,WAAY,EACZnD,MAAO,QACPoD,QAAS,OACT,UAAW,CACTC,YAAa,YACbD,QAAS,cAEXjE,SACH,cAfK,aAmBRF,cAACqE,IAAI,CAACC,WAAS,EAACxD,QAAS,EAAEZ,SACb,OAAX2B,QAAW,IAAXA,GAAiB,QAANL,EAAXK,EAAaM,YAAI,IAAAX,OAAN,EAAXA,EAAmB+C,KAAI,SAACpC,EAAMqC,GAAK,IAAAC,EAAA,OACpB,QADoBA,EAClCtC,EAAKuC,iBAAS,IAAAD,OAAA,EAAdA,EAAgBF,KAAI,SAACI,EAAUC,GAE7B,IAAM/C,EAAcM,EAAKN,YAAYgD,UACrC,OACE7E,cAACqE,IAAI,CACHS,MAAI,EACJtE,GAAI,GACJuE,GAAI,EAEJrB,MAAO,CAAErC,OAAQ,SAAUnB,SAE3BF,cAACjC,EAAa,CACZG,MAAOiE,EAAKN,YAAYmD,gBACxB/G,GAAI0G,EAASM,MACb9G,MAAOwG,EAASrG,KAChBF,QAASuG,EAASO,UAClB7G,WAAW,OACXC,KAAMuD,KACN,GAAAgC,OAVMW,EAAK,KAAAX,OAAIe,GAavB,GAAE,UAMd,C","file":"static/js/11.8d61e960.chunk.js","sourcesContent":["// @mui\nimport { useTheme } from \"@mui/material/styles\";\nimport { Container, Grid } from \"@mui/material\";\n// hooks\n// import useAuth from \"../../hooks/useAuth\";\nimport useSettings from \"../../hooks/useSettings\";\n// components\nimport Page from \"../../components/Page\";\n// sections\nimport { useSnackbar } from \"notistack\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { GetCount } from \"src/redux/slices/count\";\n\nimport { Button, Paper, Typography, Stack } from \"@mui/material\";\nimport styled from \"styled-components\";\nimport { getwfUser, getwfUserDetails } from \"src/redux/slices/wfUser\";\nimport { AppWidgetSummary } from \"src/sections/@dashboard/general/app\";\nimport { Avatar as MUIAvatar } from \"@mui/material\";\nimport {\n  getCollectionList,\n  getDomainList,\n  getitemList,\n} from \"src/redux/slices/collection\";\nimport Collection from \"src/components/Collection\";\nimport { useNavigate } from \"react-router\";\nimport { PATH_DASHBOARD } from \"src/routes/paths\";\n// ----------------------------------------------------------------------\n\nconst StyledPaper = styled(Paper)`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  padding: 20px;\n  background-color: #f5f5f5;\n  border-radius: 12px;\n`;\n\nconst Title = styled(Typography)`\n  margin-bottom: 12px;\n  font-weight: bold;\n`;\n\nconst Content = styled(Typography)`\n  margin-bottom: 12px;\n  color: #666;\n`;\nconst NameContent = styled(Typography)`\n  margin-bottom: 120px;\n  color: #666;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-top: auto;\n  box-shadow: none;\n  background-color: blue; /* You can change this color */\n  color: #fff; /* Text color for the button */\n  &:hover {\n    background-color: lightblue; /* Change color on hover */\n  }\n`;\n\nconst CardComponent = ({ id, token, title, content, buttonText, name }) => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const handleClick = async () => {\n    try {\n      await dispatch(getDomainList(id, token));\n      await dispatch(getCollectionList(id, token));\n\n      navigate(PATH_DASHBOARD.general.collection);\n    } catch (error) {\n      console.error(\"API error:\", error);\n    }\n  };\n  // dispatch(getitemList(token, collectionIds));\n\n  return (\n    <>\n      <StyledPaper elevation={3}>\n        <Title variant=\"h6\">{title}</Title>\n        <Content variant=\"body1\">{content}</Content>\n        <Stack\n          direction={{ xs: \"column\", sm: \"row\" }}\n          sx={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n          }}\n          spacing={2}\n        >\n          <StyledButton\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleClick}\n          >\n            {buttonText}\n          </StyledButton>\n          <NameContent\n            variant=\"body1\"\n            sx={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              alignContent: \"center\",\n              alignItems: \"center\",\n            }}\n          >\n            <MUIAvatar\n              sx={{ width: 30, height: 30, marginRight: \"5px\" }}\n            ></MUIAvatar>\n            {name}\n          </NameContent>\n        </Stack>\n      </StyledPaper>\n    </>\n  );\n};\nexport default function GeneralApp() {\n  const dispatch = useDispatch();\n  useEffect(async () => {\n    await dispatch(getwfUserDetails());\n  }, []);\n  const userDetails = useSelector((state) => state?.wfUser?.userDetails?.data);\n\n  useEffect(async () => {\n    const queryParams = new URLSearchParams(window.location.search);\n    if (queryParams.has(\"code\")) {\n      const code = queryParams.get(\"code\");\n      if (code !== undefined) {\n        await dispatch(getwfUser(code));\n      }\n      console.log(\"Received code:\", code);\n    } else {\n      console.error(\"Code parameter not found in the URL\");\n    }\n  }, [dispatch]);\n\n  const { themeStretch } = useSettings();\n  const handleAddSite = () => {\n    const authorizationUrl = `https://webflow.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_CLIENT_ID}`;\n    window.location.href = authorizationUrl;\n  };\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const error = useSelector((state) => state.category.error);\n  useEffect(() => {\n    if (error) {\n      enqueueSnackbar(error.message, { variant: \"error\" });\n    }\n  }, [error]);\n  return (\n    <Page title=\"General: App\">\n      <Container maxWidth={themeStretch ? false : \"xl\"}>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            marginBottom: \"16px\",\n          }}\n        >\n          <Button\n            key=\"addsite\"\n            onClick={handleAddSite}\n            color=\"inherit\"\n            variant=\"outlined\"\n            size=\"large\"\n            sx={{\n              m: 0.5,\n              flexShrink: 0,\n              color: \"white\",\n              bgcolor: \"blue\",\n              \"&:hover\": {\n                borderColor: \"lightblue\",\n                bgcolor: \"lightblue\",\n              },\n            }}\n          >\n            + Add Site\n          </Button>\n        </div>\n        <Grid container spacing={3}>\n          {userDetails?.data?.map((data, index) =>\n            data.userSites?.map((userSite, siteIndex) => {\n              // console.log(\"======\", data);\n              const userDetails = data.userDetails.firstname;\n              return (\n                <Grid\n                  item\n                  xs={12}\n                  md={4}\n                  key={`${index}-${siteIndex}`}\n                  style={{ height: \"250px\" }}\n                >\n                  <CardComponent\n                    token={data.userDetails.wf_access_token}\n                    id={userSite.wf_id}\n                    title={userSite.name}\n                    content={userSite.shortName}\n                    buttonText=\"View\"\n                    name={userDetails}\n                  />\n                </Grid>\n              );\n            })\n          )}\n        </Grid>\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}