(this["webpackJsonpZopto-Web"]=this["webpackJsonpZopto-Web"]||[]).push([[11],{1395:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var c,r,o,a,i,s=n(6),b=n(17),l=n(107),u=n(1325),d=n(1312),j=n(121),f=n(119),h=n(64),x=n(32),O=n(1),p=(n(451),n(627)),v=n(229),m=n(321),g=n(1318),w=n(1359),k=n(479),y=(n(424),n(1310)),C=n(185),S=(n(593),n(23)),D=n(52),_=n(0),R=Object(w.a)(p.a)(c||(c=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  padding: 20px;\n  background-color: #f5f5f5;\n  border-radius: 12px;\n"]))),A=Object(w.a)(v.a)(r||(r=Object(l.a)(["\n  margin-bottom: 12px;\n  font-weight: bold;\n"]))),E=Object(w.a)(v.a)(o||(o=Object(l.a)(["\n  margin-bottom: 12px;\n  color: #666;\n"]))),T=Object(w.a)(v.a)(a||(a=Object(l.a)(["\n  margin-bottom: 120px;\n  color: #666;\n"]))),U=Object(w.a)(m.a)(i||(i=Object(l.a)(["\n  margin-top: auto;\n  box-shadow: none;\n  background-color: blue; /* You can change this color */\n  color: #fff; /* Text color for the button */\n  &:hover {\n    background-color: lightblue; /* Change color on hover */\n  }\n"]))),W=function(e){var t=e.id,n=e.token,c=e.title,r=e.content,o=e.buttonText,a=e.name,i=Object(S.m)(),l=Object(x.b)(),u=function(){var e=Object(b.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(Object(C.d)(t,n));case 3:return e.next=5,l(Object(C.c)(t,n));case 5:i(D.b.general.collection),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("API error:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(R,{elevation:3,children:[Object(_.jsx)(A,{variant:"h6",children:c}),Object(_.jsx)(E,{variant:"body1",children:r}),Object(_.jsxs)(g.a,{direction:{xs:"column",sm:"row"},sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},spacing:2,children:[Object(_.jsx)(U,{variant:"contained",color:"primary",onClick:u,children:o}),Object(_.jsxs)(T,{variant:"body1",sx:{display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center"},children:[Object(_.jsx)(y.a,{sx:{width:30,height:30,marginRight:"5px"}}),a]})]})]})})};function z(){var e,t=Object(x.b)();Object(O.useEffect)(Object(b.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(k.c)());case 2:case"end":return e.stop()}}),e)}))),[]);var n=Object(x.c)((function(e){var t,n;return null===e||void 0===e||null===(t=e.wfUser)||void 0===t||null===(n=t.userDetails)||void 0===n?void 0:n.data}));Object(O.useEffect)(Object(b.a)(Object(s.a)().mark((function e(){var n,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=new URLSearchParams(window.location.search)).has("code")){e.next=9;break}if(void 0===(c=n.get("code"))){e.next=6;break}return e.next=6,t(Object(k.b)(c));case 6:console.log("Received code:",c),e.next=10;break;case 9:console.error("Code parameter not found in the URL");case 10:case"end":return e.stop()}}),e)}))),[t]);var c=Object(j.a)().themeStretch,r=Object(h.b)().enqueueSnackbar,o=Object(x.c)((function(e){return e.category.error}));return Object(O.useEffect)((function(){o&&r(o.message,{variant:"error"})}),[o]),Object(_.jsx)(f.a,{title:"General: App",children:Object(_.jsxs)(u.a,{maxWidth:!c&&"xl",children:[Object(_.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px"},children:Object(_.jsx)(m.a,{onClick:function(){var e="https://webflow.com/oauth/authorize?response_type=code&client_id=".concat("30f0f026562b74bbb017b3a9093a7b1c2a2ffb0da4518803ab7ed2fdbd34f58f");window.location.href=e},color:"inherit",variant:"outlined",size:"large",sx:{m:.5,flexShrink:0,color:"white",bgcolor:"blue","&:hover":{borderColor:"lightblue",bgcolor:"lightblue"}},children:"+ Add Site"},"addsite")}),Object(_.jsx)(d.a,{container:!0,spacing:3,children:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.map((function(e,t){var n;return null===(n=e.userSites)||void 0===n?void 0:n.map((function(n,c){var r=e.userDetails.firstname;return Object(_.jsx)(d.a,{item:!0,xs:12,md:4,style:{height:"250px"},children:Object(_.jsx)(W,{token:e.userDetails.wf_access_token,id:n.wf_id,title:n.name,content:n.shortName,buttonText:"View",name:r})},"".concat(t,"-").concat(c))}))}))})]})})}}}]);
//# sourceMappingURL=11.8d61e960.chunk.js.map